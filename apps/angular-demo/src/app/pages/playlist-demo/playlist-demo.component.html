<h2 class="text-center">Welcome to {{ title }}!</h2>
<bs-grid>
  <div bsRow class="mb-3">
    <div [xl]="9" class="text-center">
      <!-- <video-player [width]="400" [height]="300" (playerStateChange)="onPlayerStateChange($event)"
    (progressChange)="onProgressChange($event)" #player></video-player> -->
    <video-player [width]="400" [height]="300" (playerStateChange)="onPlayerStateChange($event)" #player></video-player>
    <div class="d-block">
      <button class="float-start" [color]="colors.secondary" (click)="onPrevious()">Previous</button>
      <button class="float-end" [color]="colors.secondary" (click)="onNext()">Next</button>
    </div>
  </div>
  <div [xl]="3">
    <ul>
      @for (video of playlistController['_actualPlaylist']; track video) {
        <li>
          {{ video.video.url }}
        </li>
      }
    </ul>
  </div>
</div>
<div bsRow class="mb-3">
  <div [xl]="6">
    <h3>Available tracks</h3>
    <bs-list-group>
      @for (vid of videos; track vid) {
        <bs-list-group-item (click)="addVideoToPlaylist(vid)" class="cursor-pointer">
          {{ vid.url }}
        </bs-list-group-item>
      }
    </bs-list-group>
  </div>
  <div [xl]="6">
    <h3>Playlist</h3>
    <bs-list-group>
      @for (vid of playlistController.playlist; track vid) {
        <bs-list-group-item>
          <div class="d-flex">
            <label class="d-flex flex-grow-1 float-start">
              @if ((playlistController.video$ | async) === vid) {
                <span class="align-self-center uc-icon">&#9654;</span>
              }
              @if (vid) {
                <span class="align-self-center flex-grow-1 mx-2">{{ vid.url }}</span>
              }
            </label>
            <button (click)="removeVideo(vid)" [color]="colors.secondary" title="Remove" class="float-end">
              <span [innerHTML]="trashFillIcon"></span>
            </button>
          </div>
        </bs-list-group-item>
      }
    </bs-list-group>
  </div>
</div>
<div bsRow class="mb-3">
  <div [xl]="12" class="text-center">
    <span>
      <label>
        Repeat
        <bs-select [(ngModel)]="repeat">
          @for (repeatOption of repeatOptions; track repeatOption) {
            <option [ngValue]="repeatOption.id">{{ repeatOption.text }}</option>
          }
        </bs-select>
      </label>
      <label class="mx-4">
        <bs-toggle-button [type]="'checkbox'" [isToggled]="shuffle" (change)="shuffle = getChecked($event)">
          Shuffle
        </bs-toggle-button>
      </label>
    </span>
  </div>
</div>
</bs-grid>
