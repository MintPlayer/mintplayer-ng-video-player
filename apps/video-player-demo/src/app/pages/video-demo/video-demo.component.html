<body>
    <h2 class="text-center">Welcome to {{ title }}!</h2>
    <bs-form>
        <bs-grid>
            <div bsRow>
                <div [bsColumn]="{lg: 6}">
                    <bs-list-group class="d-block mb-3">
                        <bs-list-group-item (click)="playVideo(video)" class="cursor-pointer overflow-hidden text-truncate truncate-start" *ngFor="let video of videos">{{ video }}</bs-list-group-item>
                    </bs-list-group>
                    <bs-input-group>
                        <input type="text" [(ngModel)]="newVideoUrl" class="form-control">
                        <button [color]="colors.primary" (click)="addToPlaylist()">Add</button>
                    </bs-input-group>
                </div>
                <div [bsColumn]="{lg: 6}">
                    <div class="d-block text-center">
                        <video-player [width]="width" [height]="height" [autoplay]="true"
                            (progressChange)="onProgressChange($event)" [(volume)]="volume" [(mute)]="isMuted" [(playerState)]="playerState"
                            (playerStateChange)="onPlayerStateChange($event)" [(isPip)]="isPip" [(isFullscreen)]="isFullscreen"
                            (capabilitiesChange)="onCapabilitiesChange($event)" #player1></video-player>
                    </div>
                    <div bsRow>
                        <div [bsColumn]="{'md': 6}" class="text-center">
                            <label>{{ progress.currentTime }} / {{ progress.duration }}</label>
                        </div>
                        <div [bsColumn]="{'md': 6}" class="text-center">
                            {{ playerStates[playerState] }}
                            <br>
                            <button (click)="play()" [color]="colors.secondary" *ngIf="playerState === playerStates['paused']">Play</button>
                            <button (click)="pause()" [color]="colors.secondary" *ngIf="playerState === playerStates['playing']">Pause</button>
                        </div>
                    </div>
                    <div bsRow>
                        <div [bsColumn]="{'md': 6}" class="text-center">
                            <label>
                                <label>{{ volume | number: '0.0' }}</label>
                                <bs-range [(ngModel)]="volume" [disabled]="(cannotChangeVolume$ | async) ?? true" [min]="0" [max]="100" [step]="1"></bs-range>
                            </label>
                        </div>
                        <div [bsColumn]="{'md': 6}" class="text-center">
                            <bs-toggle-button [type]="'checkbox'" [(ngModel)]="isMuted" [disabled]="(cannotMute$ | async) ?? true" class="d-inline-block py-3">
                                Mute
                            </bs-toggle-button>
                        </div>
                    </div>
                    <div bsRow>
                        <div [bsColumn]="{'md': 6}" class="text-center">
                            <bs-toggle-button [type]="'checkbox'" [(ngModel)]="isPip" [disabled]="(cannotPip$ | async) ?? true" class="d-inline-block py-3">
                                PiP
                            </bs-toggle-button>
                        </div>
                        <div [bsColumn]="{'md': 6}" class="text-center">
                            <bs-toggle-button [type]="'checkbox'" [(ngModel)]="isFullscreen" [disabled]="(cannotFullscreen$ | async) ?? true" class="d-inline-block py-3">
                                Fullscreen
                            </bs-toggle-button>
                        </div>
                    </div>
                    <div class="d-block text-center">
                        <bs-button-group>
                            <button (click)="getTitle()" [color]="colors.secondary" [disabled]="(cannotGetTitle$ | async)">Get Title</button>
                            <button (click)="setSize()" [color]="colors.secondary">Set size</button>
                        </bs-button-group>
                    </div>
                </div>
            </div>
        </bs-grid>
    </bs-form>
</body>